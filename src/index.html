<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="111004.custom-domains.appcues.com"></script>
    <meta charset="UTF-8" />
    <title>Zesty.io Instance Manager</title>

    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="Zesty.io" />
    <meta name="apple-mobile-web-app-title" content="Zesty.io" />
    <meta name="theme-color" content="#171b26" />
    <meta name="msapplication-navbutton-color" content="#171b26" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="msapplication-starturl" content="/" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
    />

    <link rel="manifest" href="/manifest.webmanifest" />

    <link
      rel="icon"
      type="image/svg+xml"
      href="https://brand.zesty.io/zesty-io-logo.svg"
    />
    <link
      rel="mask-icon"
      type="image/svg+xml"
      href="https://brand.zesty.io/zesty-io-logo.svg"
    />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Mulish"
    />

    <style type="text/css">
      * {
        margin: 0;
        padding: 0;
      }
      html,
      body {
        background-color: #f2f7fc;
        color: #5b667d;
        font-family: "Mulish", Arial, sans-serif;
        font-size: 16px;
        height: 100%;
        width: 100%;
      }

      #appBoot {
        align-items: center;
        display: flex;
        justify-content: center;
        width: 100vw;
        height: 100vh;
      }

      #center {
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      #center h1 {
        font-family: "Mulish", Arial, sans-serif;
        font-size: 2em;
        font-weight: 300;
        text-shadow: 1px 1px 1px #d6e5ff;
      }

      .loader {
        display: flex;
        height: 2rem;
      }
      .loader .bar {
        animation: fade 1s infinite ease-in-out;
        background-color: #5b667d;
        margin: 0.5rem;
        opacity: 1;
        width: 1rem;
      }
      .loader .bar:nth-child(1) {
        animation-delay: -0.16s;
      }
      .loader .bar:nth-child(2) {
        animation-delay: 1s;
      }
      .loader .bar:nth-child(3) {
        animation-delay: -0.32s;
      }
      .loader .bar:nth-child(4) {
        animation-delay: 2s;
      }
      .loader .bar:nth-child(5) {
        animation-delay: -0.16s;
      }

      @keyframes fade {
        0%,
        80%,
        100% {
          opacity: 1;
        }
        40% {
          opacity: 0.3;
        }
      }
    </style>
    <style>
      /* Media nav sidebar custom styles */
      .rv-sticky-node-list {
        margin-left: 8px;
        width: calc(100% - 8px) !important;
      }
      /* override oxide skin height to show full modal on View Source */
      .tox .tox-dialog--width-lg {
        height: auto !important;
      }
    </style>

    <script>
      if ("serviceWorker" in navigator) {
        // FIXME: currently causing more harm than good
        // window.addEventListener("load", function() {
        //   navigator.serviceWorker.register("/sw.js");
        // });

        navigator.serviceWorker
          .getRegistrations()
          .then(function (registrations) {
            for (let registration of registrations) {
              registration.unregister();
            }
          });
      }
    </script>

    <%= htmlWebpackPlugin.tags.headTags %>
  </head>
  <body>
    <main id="root">
      <div id="appBoot">
        <div id="center">
          <img
            src="https://brand.zesty.io/zesty-io-logo-vertical.svg"
            alt="Displaying Zesty.io logo while application loads"
            height="200px"
            width="297px"
            style="margin-bottom: 16px"
          />
          <div class="loader">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </div>
        </div>
      </div>
    </main>
    <!-- High z-index to beat the TinyMCE toolbar which has 1300-->
    <div id="modalMount" style="position: relative; z-index: 1301"></div>
    <%= htmlWebpackPlugin.tags.bodyTags %>
  </body>
</html>
